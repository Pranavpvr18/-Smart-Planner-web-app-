<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Smart Planner - Analytics & Insights">
    <title>Analytics - Smart Planner</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#111">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>üìö Smart Planner</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Dashboard</a></li>
                <li><a href="calendar.html" class="nav-link">Calendar</a></li>
                <li><a href="dashboard.html" class="nav-link">Tasks</a></li>
                <li><a href="analytics.html" class="nav-link active">Analytics</a></li>
            </ul>
            <div class="nav-profile">
                <div class="profile-icon" id="profileIcon">üë§</div>
                <div class="profile-menu" id="profileMenu">
                    <a href="#" id="exportData">Export Data</a>
                    <a href="#" id="clearData">Clear All Data</a>
                    <a href="#" id="settingsBtn">Settings</a>
                </div>
            </div>
            <button class="nav-toggle" id="navToggle">‚ò∞</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Analytics Header -->
        <section class="analytics-header">
            <h1>Analytics & Insights üìä</h1>
            <p>Track your productivity and performance over time</p>
        </section>

        <!-- Summary Cards -->
        <section class="analytics-summary">
            <div class="summary-card">
                <div class="summary-icon">‚úÖ</div>
                <div class="summary-content">
                    <h3 id="totalCompleted">0</h3>
                    <p>Total Completed</p>
                </div>
            </div>
            <div class="summary-card">
                <div class="summary-icon">üìù</div>
                <div class="summary-content">
                    <h3 id="totalTasks">0</h3>
                    <p>Total Tasks</p>
                </div>
            </div>
            <div class="summary-card">
                <div class="summary-icon">üìà</div>
                <div class="summary-content">
                    <h3 id="completionRate">0%</h3>
                    <p>Completion Rate</p>
                </div>
            </div>
            <div class="summary-card">
                <div class="summary-icon">‚è±Ô∏è</div>
                <div class="summary-content">
                    <h3 id="avgCompletionTime">0</h3>
                    <p>Avg Days to Complete</p>
                </div>
            </div>
        </section>

        <!-- Charts Section -->
        <section class="charts-section">
            <div class="chart-container">
                <h2>Completion Rate by Category</h2>
                <canvas id="categoryChart"></canvas>
            </div>
            <div class="chart-container">
                <h2>Productivity Trends (Last 30 Days)</h2>
                <canvas id="trendsChart"></canvas>
            </div>
            <div class="chart-container">
                <h2>Tasks by Priority</h2>
                <canvas id="priorityChart"></canvas>
            </div>
            <div class="chart-container">
                <h2>Time Spent by Category</h2>
                <canvas id="timeChart"></canvas>
            </div>
        </section>

        <!-- Detailed Statistics -->
        <section class="detailed-stats">
            <h2>Detailed Statistics</h2>
            <div class="stats-grid">
                <div class="stat-box">
                    <h3>Category Breakdown</h3>
                    <div id="categoryBreakdown">
                        <!-- Category stats will be inserted here -->
                    </div>
                </div>
                <div class="stat-box">
                    <h3>Priority Distribution</h3>
                    <div id="priorityBreakdown">
                        <!-- Priority stats will be inserted here -->
                    </div>
                </div>
                <div class="stat-box">
                    <h3>Recent Activity</h3>
                    <div id="recentActivity">
                        <!-- Recent activity will be inserted here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.10/dayjs.min.js"></script>
    <script src="api.js"></script>
    <script src="script.js"></script>
    <script src="tasks.js"></script>
    <script src="analytics.js"></script>
    <script src="offline.js"></script>
</body>
</html>
